{
  "bsonType": "object",
  "required": ["name", "phone", "area", "address"],
  "permission": {
    "read": "doc.user_id == auth.uid",
    "create": "auth.uid != null",
    "update": "doc.user_id == auth.uid",
    "delete": "doc.user_id == auth.uid"
  },
  "properties": {
    "_id": {
      "description": "ID，系统自动生成"
    },
    "name": {
      "bsonType": "string",
      "description": "收货人姓名",
      "defaultValue": ""
    },
    "phone": {
      "bsonType": "int",
      "description": "手机号码",
      "defaultValue": "",
      "pattern": "^1[3-9]\\d{9}$"
    },
    "area": {
      "bsonType": "array",
      "description": "地区",
      "defaultValue": []
    },
    "address": {
      "bsonType": "string",
      "description": "商家详细地址",
      "defaultValue": ""
    },
    "house": {
      "bsonType": "string",
      "description": "楼号/门牌号",
      "defaultValue": ""
    },
    "location": {
      "bsonType": "object",
      "description": "地理位置"
    },
    "user_id": {
      "bsonType": "string",
      "description": "用户ID， 参考`uni-id-users` 表",
      "foreignKey": "uni-id-users._id",
      "defaultValue": {
        "$env": "uid"
      }
    },
    "is_default": {
      "bsonType": "bool",
      "description": "是否为默认地址",
      "defaultValue": false
    },
    "create_date": {
      "bsonType": "timestamp",
      "description": "创建时间",
      "defaultValue": {
        "$env": "now"
      }
    },
    "last_modify_date": {
      "bsonType": "timestamp",
      "description": "最后修改时间",
      "defaultValue": {
        "$env": "now"
      }
    }
  }
}
